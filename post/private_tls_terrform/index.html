<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="author" content="Anshul Patel">
    <meta name="description" content="Anshul Patel&#39;s personal website">
    <meta name="keywords" content="personal,geek,gamer,techie">

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Create Self-Signed CA and TLS certificates using Terraform"/>
<meta name="twitter:description" content="This article discusses the creation of Self-signed CA and TLS certificates using Terrform"/>

    <meta property="og:title" content="Create Self-Signed CA and TLS certificates using Terraform" />
<meta property="og:description" content="This article discusses the creation of Self-signed CA and TLS certificates using Terrform" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://www.anshulpatel.in/post/private_tls_terrform/" />
<meta property="article:published_time" content="2018-12-09T00:00:00+00:00" />
<meta property="article:modified_time" content="2018-12-09T00:00:00+00:00" />


    
      <base href="http://www.anshulpatel.in/post/private_tls_terrform/">
    
    <title>
  Create Self-Signed CA and TLS certificates using Terraform · Anshul Patel
</title>

    
      <link rel="canonical" href="http://www.anshulpatel.in/post/private_tls_terrform/">
    

    <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />

    
      
      
      <link rel="stylesheet" href="http://www.anshulpatel.in/css/coder.min.162d994b04f00091e9c0c6ac64bdf761b47e98e30e738db4014b96029a735921.css" integrity="sha256-Fi2ZSwTwAJHpwMasZL33YbR&#43;mOMOc420AUuWAppzWSE=" crossorigin="anonymous" media="screen" />
    

    

    

    

    
    
    <link rel="icon" type="image/png" href="http://www.anshulpatel.in/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="http://www.anshulpatel.in/images/favicon-16x16.png" sizes="16x16">

    <meta name="generator" content="Hugo 0.58.2" />
  </head>

  <body class=" ">
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="http://www.anshulpatel.in/">
      Anshul Patel
    </a>
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
    <ul class="navigation-list">
      
        
          <li class="navigation-item">
            <a class="navigation-link" href="http://www.anshulpatel.in/about/">About</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="http://www.anshulpatel.in/post/">Blog</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="http://www.anshulpatel.in/meetups/">Meetups</a>
          </li>
        
      
      
        
        
        
          
        
          
            
              <li class="navigation-item menu-separator">
                <span>|</span>
              </li>
              
            
            <li class="navigation-item">
              <a href="http://www.anshulpatel.in/in-gj/">અમદાવાદી ગુજરાતી</a>
            </li>
          
        
      
    </ul>
  </section>
</nav>


      <div class="content">
        
  <section class="container page">
  <article>
    <header>
      <h1>Create Self-Signed CA and TLS certificates using Terraform</h1>
    </header>

    <p>This article discusses the creation of Self-signed CA and TLS certificates using Terrform</p>

<h2 id="how-tls-works">How TLS Works?</h2>

<p>TLS is an industry standward way to add encryption for data in transist.</p>

<ul>
<li><p>Certificate Authority (CA) is an entity responsible for issuing TLS certificates to websites or services.</p></li>

<li><p>Private CA is developed by creating public/private key pair. Public portion is then published which is called CA certificate. Private Key is kept securely else attacker can use the Private Key to issue invalide/malicious TLS certificates.</p></li>

<li><p>TLS certificate is developed by creating another public/private key, the public key is then signed by CA&rsquo;s private key and this signed public key becomes the TLS certificate. The private key will be used to decrypt the initial message encrypted by the TLS certificate and it should be kept securely.</p></li>
</ul>

<h2 id="why-private-tls">Why Private TLS?</h2>

<ul>
<li>Generating private CA and TLS certificate is cost-efficient.</li>
<li>Cost-efficieny allows to prototype TLS based application on internal environments before releasing or using actual production certificates.</li>
<li>If application is privately used in Organization&rsquo;s infrastructure then Private TLS and CA could be more beneficial.</li>
</ul>

<h2 id="terraform-tls-module">Terraform TLS Module</h2>

<p><a href="https://github.com/anshulpatel25/terraform-private-tls-cert">Terraform TLS</a> module provides an easy way to create CA and corresponding service certificates.</p>

<h3 id="gist">Gist</h3>

<script type="application/javascript" src="https://gist.github.com/anshulpatel25/13097ff04c04732496258ac0ed24f1c3.js"></script>


<p>Above example code creates the following:</p>

<ul>
<li><strong>ca.crt</strong> : CA certificate which will be included either in your Browser/OS keychain.</li>
<li><strong>api.anveshak.in.crt</strong>: Certificate for DNS <code>api.anveshak.in</code>.</li>
<li><strong>api.anveshak.in.pem</strong>: Private key for DNS <code>api.anveshak.in</code>.</li>
<li><strong>www.anveshak.in.cr</strong>: Certificate for DNS <code>www.anveshak.in</code>.</li>
<li><strong>www.anveshak.in.pem</strong>: Private key for DNS <code>www.anveshak.in</code>.</li>
</ul>

<h3 id="diagram">Diagram</h3>

<p><img src="http://www.anshulpatel.in/img/private_tls.png" alt="private-tls" /></p>
  </article>
</section>


      </div>

      <footer class="footer">
  <section class="container">
    
      <p>In my spare time, I plan World Domination from a secret villainous lair.</p>
    
     © 2019
    
       · 
      Powered by <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.
    
    
  </section>
</footer>

    </main>

    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-93926186-1', 'auto');
	
	ga('send', 'pageview');
}
</script>


  </body>

</html>
